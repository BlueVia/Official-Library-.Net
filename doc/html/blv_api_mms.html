<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bluevia: MMS API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bluevia&#160;<span id="projectnumber">1.5</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('blv_api_mms.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>MMS API </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p><a class="anchor" id="section_mms"></a> </p>
<h2><a class="anchor" id="section_mms"></a>
MMS:</h2>
<p><a href="https://bluevia.com/en/knowledge/APIs.API-Guides.MMS" target="_blank">Bluevia's MMS API Guide</a> </p>
<p>The Bluevia MMS API is a set of functions which allows users to send and receive MMS messages and request the status of those previously sent messages. Also you can subscribe notifications to your own server. In must be considered that the available Content-Types, MMS can carry are (as named in MMS/Schemas/MMSContentTypes.cs): </p>
<p><em> text/plain. image/jpeg, image/bmp, image/gif, image/png. audio/amr, audio/midi, audio/mp3, audio/mpeg, audio/wav. video/mp4, video/avi, video/3gpp. </em> 300KB as much, for good performance.</p>
<p><b>Note that MMS_MO requests are now made by 2leggedOauth mode (not authorized clients)</b> <br/>
And from now, you can retrieve a single attachment using "GetMessages", and "GetAttachment".</p>
<h2><a class="anchor" id="objects_mms"></a>
Objects:</h2>
<p><a class="anchor" id="objects_mms"></a> </p>
<ul>
<li>
<p class="startli">UserIdTypes: </p>
<p class="endli">Consider that for this api, the UserIdType objects must match the phoneNumber category: </p>
<div class="fragment"><pre class="fragment">        UserIdType destination = <span class="keyword">new</span> UserIdType { 
        Item = <span class="stringliteral">&quot;the destination number&quot;</span>, ItemElementName = Bluevia.MMS.Schemas.ItemChoiceType1.phoneNumber };
</pre></div>  </li>
<li>
Creating a message object: <div class="fragment"><pre class="fragment">        Bluevia.MMS.Schemas.MessageType message = <span class="keyword">new</span> Bluevia.MMS.Schemas.MessageType
        (<span class="keyword">new</span> <span class="keywordtype">string</span>[] {<span class="stringliteral">&quot;Destination 1&quot;</span>,<span class="stringliteral">&quot;Destination 2&quot;</span>...    },<span class="stringliteral">&quot;Message text&quot;</span>*optional);
</pre></div>  </li>
<li>
Creating a FileAttachment object: <div class="fragment"><pre class="fragment">        Bluevia.Core.Schemas.FileAttachment file = <span class="keyword">new</span> Bluevia.Core.Schemas.FileAttachment
        (<span class="stringliteral">&quot;PathToFile&quot;</span>, MMS.Schemas.MMSContentTypes.type);
</pre></div>  </li>
<li>
Creating a StreamAttachment object: <ul>
<li>
First mode: <div class="fragment"><pre class="fragment">                Bluevia.Core.Schemas.StreamAttachment stream = <span class="keyword">new</span> Bluevia.Core.Schemas.StreamAttachment
                (byte[] data, MMS.Schemas.MMSContentTypes.type, <span class="keywordtype">string</span> fileName);
</pre></div> </li>
<li>
Second mode: &lt; <div class="fragment"><pre class="fragment">                Bluevia.Core.Schemas.StreamAttachment stream = <span class="keyword">new</span> Bluevia.Core.Schemas.StreamAttachment
                (System.IO.MemoryStream data, MMS.Schemas.MMSContentTypes.type, <span class="keywordtype">string</span> fileName);
</pre></div> </li>
</ul>
</li>
<li>
Creating a MessageNotification object: <div class="fragment"><pre class="fragment">        Bluevia.MMS.Schemas.MessageNotificationType notificationObject = <span class="keyword">new</span> Bluevia.MMS.Schemas.MessageNotificationType()
        {
        reference = <span class="keyword">new</span> SimpleReferenceType() { correlator = <span class="stringliteral">&quot;A correlator&quot;</span>, endpoint = <span class="stringliteral">&quot;The endpoint&quot;</span> },
    destinationAddress = <span class="keyword">new</span> UserIdType[] { <span class="keyword">new</span> UserIdType() { Item = <span class="stringliteral">&quot;The short Code&quot;</span>, ItemElementName = <a class="code" href="namespace_bluevia_1_1_location_1_1_schemas.html#af89460bf82133ef2a212e9980e1f2f37">ItemChoiceType1</a>.phoneNumber } },
    criteria = <span class="stringliteral">&quot;The criteria&quot;</span>
        };
</pre></div> </li>
</ul>
<h2><a class="anchor" id="methods_mms"></a>
Methods:</h2>
<p><a class="anchor" id="methods_mms"></a></p>
<ul>
<li>
Sending MMS: <ul>
<li>
First mode: <div class="fragment"><pre class="fragment">                var response = authenticatedRequest
                .MMS.MessageMT.Send(message, <span class="keyword">new</span> FileAttachment[] {File, File …}*optional);
</pre></div>  </li>
<li>
Second mode: <div class="fragment"><pre class="fragment">                var response = authenticatedRequest
                .MMS.MessageMT.Send(message,StreamAttachment[] streamAttachments);
</pre></div>  </li>
<li>
Third mode: <div class="fragment"><pre class="fragment">                var response = authenticatedRequest
                .MMS.MessageMT.Send(<span class="keyword">new</span> <span class="keywordtype">string</span>[] { <span class="stringliteral">&quot;Address&quot;</span>, <span class="stringliteral">&quot; Address&quot;</span>...}, <span class="stringliteral">&quot; mmsSubject&quot;</span>, <span class="keyword">new</span> FileAttachment[] {File, File …}*optional);
</pre></div>  </li>
</ul>
</li>
<li>
<p class="startli">Getting Status:</p>
<div class="fragment"><pre class="fragment">        var response = authenticatedRequest
        .MMS.MessageMT.GetStatus(<span class="stringliteral">&quot;messageId&quot;</span>,<span class="stringliteral">&quot;Status&quot;</span>*optional);
</pre></div>  </li>
<li>
<p class="startli">Retrieving MMS Id, and Attachment Id: </p>
<p class="endli">New parameter and functionallity have been added. <br/>
 New functionallity offers you the possibility to list the attachment ids, refered to each mms id. <br/>
 For that, a boolean parameter: "useAttachmentUrl", has been added to the method. If true, a list of attachment ids, will be responsed with each messageId. <br/>
 With those attachment ids, you could retrieve a single attachment instead the full MMS.  </p>
<div class="fragment"><pre class="fragment">        var response = request
        .MMS.MessageMO.GetMessages(<span class="stringliteral">&quot;registrationId&quot;</span>,useAttachmentUrl);
</pre></div>  </li>
<li>
<p class="startli">Getting an Attachment: </p>
<p class="endli">With the attachment id retrived with the previous method, you now can get a single attachment </p>
<div class="fragment"><pre class="fragment">        var response = request
        .MMS.MessageMO.GetAttachment(<span class="stringliteral">&quot;registrationId&quot;</span>, <span class="stringliteral">&quot;messageId&quot;</span>, <span class="stringliteral">&quot;attachmentId&quot;</span>);
</pre></div>  </li>
<li>
<p class="startli">Getting MMS:</p>
<div class="fragment"><pre class="fragment">        var response = request
        .MMS.MessageMO.GetMessage(<span class="stringliteral">&quot;registrationId&quot;</span>,<span class="stringliteral">&quot;messageId&quot;</span>);
</pre></div> <p class="endli"></p>
</li>
<li>
<p class="startli">Subscribe Notifications:</p>
<div class="fragment"><pre class="fragment">        var response = request
        .MMS.NotificationManager.Subscribe(notificationObject);
</pre></div>  </li>
<li>
<p class="startli">Unsubscribe Notifications:</p>
<div class="fragment"><pre class="fragment">        var response = request
        .MMS.NotificationManager.UnSubscribeNotification(<span class="stringliteral">&quot;notificationId&quot;</span>);
</pre></div>  </li>
</ul>
<p><b>Guides:</b> </p>
<ul>
<li>
<a class="el" href="blv_using_bluevia.html">Using Bluevia</a> </li>
<li>
<a class="el" href="blv_common.html">Common</a> </li>
<li>
<a class="el" href="blv_api_oauth.html">Oauth</a> </li>
<li>
<a class="el" href="blv_api_advertising.html">Advertising</a> </li>
<li>
<a class="el" href="blv_api_directory.html">Directory</a> </li>
<li>
<a class="el" href="blv_api_location.html">Location</a> </li>
<li>
<a class="el" href="blv_api_mms.html">MMS</a> </li>
<li>
<a class="el" href="blv_api_payment.html">Payment</a> </li>
<li>
<a class="el" href="blv_api_sms.html">SMS</a> </li>
<li>
<a class="el" href="blv_getting_started.html">Getting Started Guide</a> </li>
<li>
<a class="el" href="blv_demos.html">DEMOs guide</a> </li>
</ul>
<p><br/>
  </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Mon Jan 23 2012 08:36:16 for Bluevia by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
