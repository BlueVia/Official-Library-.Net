<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bluevia: USING BLUEVIA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bluevia&#160;<span id="projectnumber">1.5</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('blv_using_bluevia.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>USING BLUEVIA </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="using_bluevia_sec"></a>
Using Bluevia is easy:</h2>
<h2><a class="anchor" id="endpoints"></a>
Endpoints:</h2>
<p><a class="anchor" id="endpoints"></a> BlueVia has two endpoints, commercial (<b>LIVE</b> or <b>TEST</b>) and sandbox (<b>SANDBOX</b>). Commercial is linked to Telefonica network, and sandbox is used just to verify application behavior (read the <a class="el" href="blv_common.html">COMMON</a> area to learn how to change it). For further information, check: </p>
<p><a href="https://bluevia.com/en/knowledge/getStarted/Sandbox-and-Live-environments" target="_blank">https://bluevia.com/en/knowledge/getStarted/Sandbox-and-Live-environments</a> </p>
<h2><a class="anchor" id="oauth_sec"></a>
OAuth:</h2>
<p>User authentication is launched using OAuth protocol, so user is not required to use credentials in third party applications. If you want to learn more about OAuth please check: </p>
<p><a href="https://bluevia.com/en/knowledge/APIs.API-Guides.OAuth" target="_blank">https://bluevia.com/en/knowledge/APIs.API-Guides.OAuth.</a> </p>
<p><a href="http://oauth.net" target="_blank">http://oauth.net</a>  </p>
<p>Retrieve two parameters, Token and Token_Secret that will be used during the OAuth process. Both token and token_secret must be saved by the application provider cause OAuth process will require it later in almost every petition to the endpoints.</p>
<p>Once the user is authenticated and has authorized the application in BlueVia portal, he should be redirected to the URL used as parameter. Now it's time to fetch the valid token and token secret that shall identify the new user during any call to BlueVia API.</p>
<h3><a class="anchor" id="using_the_sdk"></a>
USING THE SDK:</h3>
<p>Most of the requests when accessing Bluevia API are associated to a specific user, so when a BlueviaClient object is created, both user token and user token secret must be provided to identify user on behalf of whom the application wants to access BlueVia APIs. <br/>
<b>NOTE: From here, fields marked with "*optional" constructing objects or calling methods, means that are optional parameters.</b></p>
<p><br/>
</p>
<p><b>First:</b> Configure your data. </p>
<div class="fragment"><pre class="fragment">        Bluevia.Core.Configuration.Client.setConsumer(<span class="stringliteral">&quot;Your_consumer_key&quot;</span>);
        Bluevia.Core.Configuration.Client.setConsumerSecret(<span class="stringliteral">&quot;Your_consumer_secret&quot;</span>); 
</pre></div> <p><b>Second:</b> Create a Bluevia Client. </p>
<div class="fragment"><pre class="fragment">        BlueviaClient client = <span class="keyword">new</span> BlueviaClient(); 
</pre></div> <p><b>Third:</b> Create a Request over the Client. </p>
<div class="fragment"><pre class="fragment">        IBlueviaClient request = client.CreateRequest(); 
</pre></div> <p><a class="anchor" id="authenticate"></a><b>Fourth:</b> Authenticate if necessary. </p>
<div class="fragment"><pre class="fragment">        Bluevia.Core.Configuration.Client.setTokenPair(<span class="stringliteral">&quot;AccessToken&quot;</span>, <span class="stringliteral">&quot;SecretToken&quot;</span>);
        IBlueviaClient authenticatedRequest = request.AuthenticateClient();
</pre></div> <p><b>Fifth:</b> Make the desired petition. Note that the 2 legged Oauth petition don't need an authenticated request. And will work, only if the application has been registered for this purpose.</p>
<ul>
<li>
2LeggedOauth mode: <div class="fragment"><pre class="fragment">                <span class="keywordflow">try</span>
                {
                      var response = request.API.Primitive.Send(Data);
                }
                <span class="keywordflow">catch</span> (RestClientException e)
                {
                        <span class="keywordflow">if</span> (e.ClientException!=null)
                        {
                        <span class="comment">//You can print the exception message with: e.ClientException.text</span>
                        }<span class="keywordflow">else</span>{
                        <span class="comment">//You can print the exception message with: e.ServerException.text</span>
                        }
                }
                <span class="keywordflow">catch</span> (Exception e) { } 
</pre></div> </li>
<li>
3LeggedOauth mode: <div class="fragment"><pre class="fragment">                <span class="keywordflow">try</span>
                {
                      var response = authenticatedRequest.API.Primitive.Send(Data);
                }
                <span class="keywordflow">catch</span> (RestClientException e)
                {
                        <span class="keywordflow">if</span> (e.ClientException!=null)
                        {
                        <span class="comment">//You can print the exception message with: e.ClientException.text</span>
                        }<span class="keywordflow">else</span>{
                        <span class="comment">//You can print the exception message with: e.ServerException.text</span>
                        }
                }
                <span class="keywordflow">catch</span> (Exception e) { } 
</pre></div> </li>
</ul>
<p><b>Guides:</b> </p>
<ul>
<li>
<a class="el" href="blv_using_bluevia.html">Using Bluevia</a> </li>
<li>
<a class="el" href="blv_common.html">Common</a> </li>
<li>
<a class="el" href="blv_api_oauth.html">Oauth</a> </li>
<li>
<a class="el" href="blv_api_advertising.html">Advertising</a> </li>
<li>
<a class="el" href="blv_api_directory.html">Directory</a> </li>
<li>
<a class="el" href="blv_api_location.html">Location</a> </li>
<li>
<a class="el" href="blv_api_mms.html">MMS</a> </li>
<li>
<a class="el" href="blv_api_payment.html">Payment</a> </li>
<li>
<a class="el" href="blv_api_sms.html">SMS</a> </li>
<li>
<a class="el" href="blv_getting_started.html">Getting Started Guide</a> </li>
<li>
<a class="el" href="blv_demos.html">DEMOs guide</a> </li>
</ul>
<p><br/>
  </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Mon Jan 23 2012 08:36:16 for Bluevia by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
