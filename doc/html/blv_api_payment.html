<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bluevia: PAYMENT API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bluevia&#160;<span id="projectnumber">1.5</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('blv_api_payment.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>PAYMENT API </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p><a class="anchor" id="section_payment"></a> </p>
<h2><a class="anchor" id="section_payment"></a>
PAYMENT:</h2>
<p><a href="https://bluevia.com/en/knowledge/APIs.API-Guides.Payment" target="_blank">Bluevia's Payment API Guide</a> </p>
<p>The Bluevia PAYMENT API is a set of functions which allows individual, atomic payments based on input purchase information with economic data.</p>
<p><b>You must consider that the Oauth Token model changes for the Payment API:<br/>
</b> Usually, you only have to request one Token Pair for your whole application. <br/>
But in the Payment case, a new special temporal Token Pair must be requested for each "payment request". And will be only usefull for that payment request and its relatives operations, "cancel authorization request", "get status request"... <br/>
I.E.: If you want to make a payment: First of all you must request a new pair of RequestTokens in the "payment way". After that you have to retrieve the AccessTokens as always. <br/>
Next Step is to store that AccessTokens, and once stored, you can cancel it (with cancelAuthorization method), or make the payment. <br/>
If you finally decide to make the payment(with payment method), you can get the status or request notifications (if the country permits asinchronus payments), with the same Tokens. But, if you want to make another payment, you have to request a new pair of tokens for it. </p>
<p><b>Note that Request parameters are now simplified, and you dont need to build previous objects.</b></p>
<h2><a class="anchor" id="objects_payment"></a>
Objects:</h2>
<h2><a class="anchor" id="methods_payment"></a>
Methods:</h2>
<p><a class="anchor" id="methods_payment"></a></p>
<ul>
<li>
<p class="startli">Requesting RequestTokens for payment use:</p>
<div class="fragment"><pre class="fragment">    var response = request 
    .OAuth.RequestToken.Get(amount, <span class="stringliteral">&quot;currency&quot;</span>(EUR,GBP..), <span class="stringliteral">&quot;name of the service&quot;</span>, <span class="stringliteral">&quot;serviceID&quot;</span>, <span class="stringliteral">&quot;callbackUrl&quot;</span>*optional);
</pre></div> <p class="endli"></p>
</li>
<li>
Payment: For Status notificatios to your own server, you should include the "endpoint" and "correlator" fields on the request. <div class="fragment"><pre class="fragment">        var response = authenticatedRequest
        .Payment.AmountCharging.Payment( amount, <span class="stringliteral">&quot;currency&quot;</span>(EUR,GBP..),<span class="stringliteral">&quot;endpoint&quot;</span>*optional,<span class="stringliteral">&quot;correlator&quot;</span>*optional);
</pre></div>  </li>
<li>
<p class="startli">Cancel Authorization tokens:</p>
<div class="fragment"><pre class="fragment">        var response = authenticatedRequest
        .Payment.AmountCharging.CancelAuthorization();
</pre></div>  </li>
<li>
<p class="startli">Getting the payment status:</p>
<div class="fragment"><pre class="fragment">        var response = authenticatedRequest
        .Payment.AmountCharging.GetPaymentStatus(<span class="stringliteral">&quot;transactionId&quot;</span>);
</pre></div> <p class="endli"></p>
</li>
</ul>
<p><b>Guides:</b> </p>
<ul>
<li>
<a class="el" href="blv_using_bluevia.html">Using Bluevia</a> </li>
<li>
<a class="el" href="blv_common.html">Common</a> </li>
<li>
<a class="el" href="blv_api_oauth.html">Oauth</a> </li>
<li>
<a class="el" href="blv_api_advertising.html">Advertising</a> </li>
<li>
<a class="el" href="blv_api_directory.html">Directory</a> </li>
<li>
<a class="el" href="blv_api_location.html">Location</a> </li>
<li>
<a class="el" href="blv_api_mms.html">MMS</a> </li>
<li>
<a class="el" href="blv_api_payment.html">Payment</a> </li>
<li>
<a class="el" href="blv_api_sms.html">SMS</a> </li>
<li>
<a class="el" href="blv_getting_started.html">Getting Started Guide</a> </li>
<li>
<a class="el" href="blv_demos.html">DEMOs guide</a> </li>
</ul>
<p><br/>
  </p>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Mon Jan 23 2012 08:36:16 for Bluevia by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
